<h2>Create New Post</h2>
<form method="post" enctype="multipart/form-data">
    <input type="text" name="title" placeholder="Title" required>
    <input type="text" name="author" placeholder="Author" required>
    <input type="file" name="image" accept="image/*" required>
    
    <select name="category" id="category-select" required>
        <option value="trending">Trending</option>
        <option value="highlight">Highlights</option>
        <option value="recent">Recent</option>
        <option value="products">Products</option>
        
    </select>

     <div id="highlight-options" style="display: none; margin-top: 10px;">
    <label>Select Highlight Type:</label><br>
    <input type="radio" name="highlight_type" value="main"> Main Highlight<br>
    <input type="radio" name="highlight_type" value="small"> Small Highlight<br>
  </div>

    <textarea name="content" placeholder="Post content" required></textarea>
    <button type="submit">Create</button>
</form>
<script>
document.addEventListener('DOMContentLoaded', function () {
    const categorySelect = document.getElementById('category-select');
    const highlightOptions = document.getElementById('highlight-options');

    function toggleHighlightOptions() {
        if (categorySelect.value === 'highlight') {
            highlightOptions.style.display = 'block';
        } else {
            highlightOptions.style.display = 'none';
            // Uncheck any selected highlight_type when not highlight
            const radios = highlightOptions.querySelectorAll('input[name="highlight_type"]');
            radios.forEach(r => r.checked = false);
        }
    }

    categorySelect.addEventListener('change', toggleHighlightOptions);

    // Run on page load too in case it's in POST error state
    toggleHighlightOptions();
});
</script>
